--[[

    Garages

]]

local garagesConfig = {
    ["MRPD"] = {
        ["type"] = "police",
        ["jobGarage"] = true,
        ["pos"] = vector4(437.31, -996.93, 25.3, 90.1),
        ["distance"] = 150,
        ["spaces"] = {
            vector4(445.74, -996.94, 25.3, 269.16),
            vector4(445.57, -994.23, 25.3, 269.26),
            vector4(445.8, -991.49, 25.3, 268.82),
            vector4(445.73, -988.86, 25.3, 269.45),
            vector4(445.73, -986.11, 25.3, 269.32),
            vector4(437.27, -986.16, 25.3, 89.2),
            vector4(437.28, -988.87, 25.3, 91.25),
            vector4(437.41, -991.59, 25.3, 89.96),
            vector4(437.3, -994.28, 25.3, 90.01),
            vector4(437.31, -996.93, 25.3, 90.1),
            vector4(425.71, -997.08, 25.3, 270.01),
            vector4(425.74, -994.41, 25.3, 269.55),
            vector4(425.76, -991.65, 25.3, 270.83),
            vector4(425.82, -988.97, 25.3, 269.8),
            vector4(425.75, -984.27, 25.3, 270.67),
            vector4(425.78, -981.54, 25.3, 269.55),
            vector4(425.88, -978.81, 25.3, 270.18),
            vector4(425.77, -976.13, 25.3, 270.51),
        },
    },
    ["VBPD"] = {
        ["type"] = "cid",
        ["jobGarage"] = true,
        ["pos"] = vector4(-1130.52, -834.87, 3.76, 90.1),
        ["distance"] = 250,
        ["spaces"] = {
            vector4(-1146.52, -865.47, 3.34, 37.46),
            vector4(-1143.08, -862.83, 3.34, 34.93),
            vector4(-1139.67, -860.45, 3.34, 33.76),
            vector4(-1136.14, -858.05, 3.34, 34.78),
            vector4(-1132.87, -855.3, 3.34, 36.77),
            vector4(-1129.82, -852.57, 3.34, 35.78),
            vector4(-1126.83, -849.83, 3.34, 35.99),
            vector4(-1123.07, -847.46, 3.34, 37.96),
            vector4(-1119.84, -844.85, 3.34, 39.09),
            vector4(-1116.4, -842.5, 3.34, 37.5),
            vector4(-1113.28, -840.15, 3.34, 34.75),
            vector4(-1109.93, -837.39, 3.34, 36.14),
            vector4(-1106.42, -835.19, 3.34, 34.81),
            vector4(-1102.69, -833.18, 3.34, 35.52),
            vector4(-1119.97, -809.86, 3.34, 215.43),
            vector4(-1122.96, -812.48, 3.34, 214.8),
            vector4(-1125.92, -815.42, 3.34, 216.04),
            vector4(-1129.46, -817.67, 3.34, 217.58),
            vector4(-1132.79, -820.28, 3.34, 212.69),
            vector4(-1135.93, -822.9, 3.34, 214.18),
            vector4(-1139.23, -825.48, 3.34, 216.1),
            vector4(-1142.77, -827.89, 3.34, 216.59),
            vector4(-1145.89, -830.32, 3.34, 214.58),
            vector4(-1149.53, -832.67, 3.34, 215.74),
            vector4(-1152.95, -835.15, 3.34, 216.44),
            vector4(-1156.51, -837.51, 3.34, 216.84),
            vector4(-1159.37, -840.24, 3.34, 215.2),
            vector4(-1163.32, -842.39, 3.34, 217.75),
            vector4(-1148.04, -848.74, 3.34, 36.48),
            vector4(-1144.64, -846.06, 3.34, 37.88),
            vector4(-1141.0, -844.17, 3.34, 36.27),
            vector4(-1138.29, -841.29, 3.34, 36.12),
            vector4(-1134.34, -839.19, 3.34, 36.44),
            vector4(-1131.7, -836.02, 3.34, 36.35),
            vector4(-1128.3, -833.57, 3.34, 39.06),
            vector4(-1124.98, -831.29, 3.34, 38.53),
            vector4(-1121.6, -828.57, 3.34, 38.69),
            vector4(-1118.08, -826.36, 3.34, 36.81),
        },
    },
    ["Hospital"] = {
        ["type"] = "ems",
        ["jobGarage"] = true,
        ["pos"] = vector4(316.52, -578.24, 28.4, 250.64),
        ["distance"] = 100,
        ["spaces"] = {
            vector4(332.97, -590.6, 28.4, 339.91),
            vector4(329.62, -589.53, 28.4, 341.87),
            vector4(326.34, -588.32, 28.4, 340.95),
            vector4(323.04, -587.06, 28.4, 341.23),
            vector4(319.58, -585.71, 28.4, 340.55),
            vector4(316.52, -578.24, 28.4, 250.64),
            vector4(318.12, -573.93, 28.4, 248.37),
            vector4(319.71, -569.74, 28.4, 249.57),
            vector4(321.05, -565.23, 28.4, 248.56),
        },
    },
    ["LSFD"] = {
        ["type"] = "fire_department",
        ["jobGarage"] = true,
        ["pos"] = vector4(-633.42, -77.89, 39.73, 354.06),
        ["distance"] = 150,
        ["spaces"] = {
            vector4(-641.23, -76.73, 39.72, 354.57),
            vector4(-633.42, -77.89, 39.73, 354.06),
            vector4(-625.4, -79.59, 39.72, 357.03),
        },
    },
    ["A"] = {
        ["type"] = "car",
        ["pos"] = vector4(469.81979370117, -73.265930175781, 77.0322265625, 158.74014282227),
        ["distance"] = 100,
        ["spaces"] = {
            vector4(469.81979370117, -73.265930175781, 77.0322265625, 158.74014282227),
            vector4(466.16702270508, -72.01318359375, 77.0322265625, 158.74014282227),
            vector4(462.9098815918, -71.182418823242,  77.0322265625, 158.74014282227),
            vector4(476.17584228516, -63.797798156738, 77.0322265625, 331.65353393555),
            vector4(473.0637512207, -61.345050811768, 77.0322265625, 331.65353393555),
            vector4(469.78021240234, -59.894500732422, 77.0322265625,  334.48818969727),
            vector4(482.14944458008, -40.430767059326, 77.285034179688, 59.52755355835),
            vector4(483.30990600586, -37.068130493164, 77.285034179688, 53.858264923096),
            vector4(484.8923034668, -33.824172973633, 77.285034179688, 56.692909240723),
            vector4(487.02856445312, -30.540657043457, 77.285034179688, 56.692909240723),
            vector4(489.34945678711, -27.454942703247, 77.285034179688, 59.52755355835),
            vector4(491.38021850586, -24.382415771484, 77.285034179688, 56.692909240723),

        },
    },
    ["B"] = {
        ["type"] = "car",
        ["pos"] = vector4(-357.44177246094, -775.76702880859, 33.542846679688, 87.874015808105),
        ["distance"] = 100,
        ["spaces"] = {
            vector4(-357.44177246094, -775.76702880859, 33.542846679688, 87.874015808105),
            vector4(-356.82196044922, -771.03295898438, 33.542846679688, 87.874015808105),
            vector4(-357.34945678711, -767.51208496094, 33.542846679688, 85.039367675781),
            vector4(-356.88790893555, -764.70330810547, 33.542846679688, 85.039367675781),
            vector4(-356.99340820312, -759.96923828125, 33.542846679688, 87.874015808105),
            vector4(-357.75823974609, -757.05493164062, 33.542846679688, 85.039367675781),
            vector4(-357.37582397461, -753.9560546875, 33.542846679688, 87.874015808105),
            vector4(-355.50329589844, -748.95825195312, 33.542846679688, 87.874015808105),
            vector4(-357.01977539062, -746.40002441406, 33.542846679688, 87.874015808105),
            vector4(-356.96704101562, -742.97143554688, 33.542846679688, 85.039367675781),
            vector4(-357.05932617188, -737.41979980469, 33.542846679688, 90.708656311035),
            vector4(-357.11209106445, -733.67474365234, 33.542846679688, 90.708656311035),
            vector4(-341.82855224609, -767.22198486328, 33.542846679688, 90.708656311035),
            vector4(-341.45935058594, -764.22857666016, 33.542846679688, 87.874015808105),
            vector4(-340.8659362793, -760.07470703125, 33.542846679688, 87.874015808105),
            vector4(-342.0791015625, -756.81756591797, 33.542846679688, 90.708656311035),
            vector4(-337.39779663086, -750.22418212891, 33.542846679688, 0.0),
            vector4(-334.54943847656, -751.23956298828, 33.542846679688, 0.0),
            vector4(-332.05712890625, -750.60656738281, 33.542846679688, 0.0),
            vector4(-329.23516845703, -750.97583007812, 33.542846679688, 0.0),
            vector4(-322.93185424805, -751.67474365234, 33.542846679688, 340.15747070312),
            vector4(-320.54504394531, -752.43957519531, 33.542846679688, 340.15747070312),
            vector4(-317.72308349609, -754.07470703125, 33.542846679688, 340.15747070312),
            vector4(-314.8219909668, -755.18243408203, 33.542846679688, 337.32284545898),

        },
    },
    ["Apartments"] = {
        ["type"] = "car",
        ["pos"] = vector4(-297.86373901367, -989.57800292969, 30.644653320312, 158.74014282227),
        ["distance"] = 100,
        ["spaces"] = {
            vector4(-297.86373901367, -989.57800292969, 30.644653320312, 158.74014282227),
            vector4(-300.76483154297, -989.03735351562, 30.644653320312, 158.74014282227),
            vector4(-304.56262207031, -987.30987548828, 30.644653320312, 155.90550231934),
            vector4(-308.30767822266, -987.07250976562, 30.644653320312, 158.74014282227),
            vector4(-311.44616699219, -985.80657958984, 30.644653320312, 158.74014282227),
            vector4(-314.95385742188, -983.65716552734, 30.644653320312, 158.74014282227),
            vector4(-318.71209716797, -982.94506835938, 30.644653320312, 155.90550231934),
            vector4(-322.43075561523, -981.54724121094, 30.644653320312, 158.74014282227),
            vector4(-325.72747802734, -980.49230957031, 30.644653320312, 155.90550231934),
            vector4(-328.8395690918, -979.27911376953, 30.644653320312, 158.74014282227),
            vector4(-332.62417602539, -977.22198486328, 30.644653320312, 158.74014282227),
            vector4(-336.15823364258, -976.43078613281, 30.644653320312, 155.90550231934),
            vector4(-339.48132324219, -975.36260986328, 30.644653320312, 155.90550231934),
            vector4(-342.94946289062, -973.8857421875, 30.644653320312, 158.74014282227),
            vector4(-326.8747253418, -956.26812744141, 30.644653320312, 68.031494140625),
            vector4(-325.55603027344, -953.02416992188, 30.644653320312, 70.866142272949),
            vector4(-324.60659790039, -949.49011230469, 30.644653320312, 68.031494140625),
            vector4(-322.8659362793, -946.14068603516, 30.644653320312, 65.196853637695),
            vector4(-321.34945678711, -942.64617919922, 30.644653320312, 65.196853637695),
            vector4(-320.70330810547, -938.78240966797, 30.644653320312, 65.196853637695),
            vector4(-319.34506225586, -935.43298339844, 30.644653320312, 70.866142272949),
            vector4(-317.82858276367, -931.72747802734, 30.644653320312, 70.866142272949),
            vector4(-316.79998779297, -928.39123535156, 30.644653320312, 68.031494140625),
            vector4(-313.43734741211, -964.87915039062, 30.644653320312, 252.2834777832),
            vector4(-312.58023071289, -961.42419433594, 30.644653320312, 255.11810302734),
            vector4(-310.65493774414, -958.087890625, 30.644653320312, 252.2834777832),
            vector4(-309.58682250977, -954.79119873047, 30.644653320312, 252.2834777832),
            vector4(-308.70330810547, -950.78240966797, 30.644653320312, 252.2834777832),
            vector4(-306.38241577148, -948.0, 30.644653320312, 255.11810302734),
            vector4(-305.61758422852, -943.76702880859, 30.644653320312, 249.44882202148),
            vector4(-303.87692260742, -940.83953857422, 30.644653320312, 255.11810302734),
            vector4(-303.49450683594, -936.85711669922, 30.644653320312, 255.11810302734),
            vector4(-301.89889526367, -934.07470703125, 30.644653320312, 255.11810302734),

        },
    },
    ["D"] = {
        ["type"] = "car",
        ["pos"] = vector4(397.78021240234, -1341.3758544922, 30.947998046875, 138.89762878418),
        ["distance"] = 100,
        ["spaces"] = {
            vector4(397.78021240234, -1341.3758544922, 30.947998046875, 138.89762878418),
            vector4(395.23516845703, -1338.8835449219, 31.301879882812, 136.06298828125),
            vector4(392.50549316406, -1336.7604980469, 31.739868164062, 138.89762878418),
            vector4(389.56484985352, -1334.7824707031, 32.19482421875, 136.06298828125),
            vector4(386.50549316406, -1332.1977539062, 32.666625976562, 138.89762878418),
            vector4(383.68350219727, -1329.4681396484, 32.98681640625, 133.22833251953),
            vector4(380.95385742188, -1326.2769775391, 33.12158203125, 136.06298828125),
            vector4(378.06594848633, -1324.1274414062, 33.12158203125, 136.06298828125),
            vector4(374.95385742188, -1322.1494140625, 33.12158203125, 136.06298828125),
            vector4(372.32968139648, -1320.158203125, 33.12158203125, 136.06298828125),
            vector4(414.01318359375, -1355.3011474609, 30.8974609375, 141.7322845459),
            vector4(417.16482543945, -1357.6746826172, 31.301879882812, 141.7322845459),
            vector4(420.51428222656, -1359.876953125, 31.807373046875, 141.7322845459),
            vector4(422.34725952148, -1362.3692626953, 32.19482421875, 136.06298828125),
            vector4(426.17144775391, -1364.8879394531, 32.717163085938, 138.89762878418),
            vector4(428.8747253418, -1367.4989013672, 33.0205078125, 141.7322845459),
            vector4(431.44616699219, -1370.17578125, 33.12158203125, 138.89762878418),
            vector4(434.80877685547, -1372.03515625, 33.12158203125, 141.7322845459),
            vector4(436.53625488281, -1374.9099121094, 33.12158203125, 141.7322845459),
            vector4(439.80657958984, -1377.4285888672, 33.12158203125, 138.89762878418),

        },
    },
    ["E"] = {
        ["type"] = "car",
        ["pos"] = vector4(598.95825195312, 98.215393066406, 92.483520507812, 68.031494140625),
        ["distance"] = 100,
        ["spaces"] = {
            vector4(598.95825195312, 98.215393066406, 92.483520507812, 68.031494140625),
            vector4(600.31646728516, 102.02638244629, 92.483520507812, 68.031494140625),
            vector4(600.34283447266, 111.27033233643, 92.466674804688, 68.031494140625),
            vector4(602.13629150391, 114.8835144043, 92.466674804688, 65.196853637695),
            vector4(602.59777832031, 118.35164642334, 92.466674804688, 65.196853637695),
            vector4(604.28570556641, 122.72967529297, 92.466674804688, 68.031494140625),
            vector4(605.70989990234, 125.63076782227, 92.466674804688, 68.031494140625),
            vector4(606.97583007812, 130.0087890625, 92.466674804688, 68.031494140625),
            vector4(615.24395751953, 122.37362670898, 92.483520507812, 252.2834777832),
            vector4(613.47692871094, 119.06373596191, 92.517211914062, 246.61418151855),
            vector4(612.64617919922, 115.02857208252, 92.483520507812, 249.44882202148),
            vector4(610.72088623047, 110.99340820312, 92.500366210938, 252.2834777832),
            vector4(609.91650390625, 107.43296813965, 92.432983398438, 249.44882202148),
            vector4(608.53186035156, 103.54286193848, 92.382446289062, 252.2834777832),
            vector4(616.54943847656, 101.0901184082, 92.18017578125, 65.196853637695),
            vector4(618.56701660156, 104.51868438721, 92.163330078125, 68.031494140625),
            vector4(618.64617919922, 108.0, 92.24755859375, 59.52755355835),
            vector4(620.74285888672, 111.59999847412, 92.230712890625, 70.866142272949),
            vector4(622.61535644531, 115.42417907715, 92.197021484375, 62.362197875977),
            vector4(623.68353271484, 119.63076782227, 92.2138671875, 70.866142272949),
            vector4(634.12750244141, 124.95824432373, 92.365600585938, 249.44882202148),
            vector4(633.12530517578, 122.16263580322, 92.197021484375, 249.44882202148),
            vector4(632.00439453125, 117.61318969727, 91.994873046875, 249.44882202148),
            vector4(630.58020019531, 114.29010772705, 91.77587890625, 246.61418151855),
            vector4(629.20880126953, 110.43955993652, 91.657836914062, 246.61418151855),
            vector4(627.56042480469, 106.44396209717, 91.674682617188, 252.2834777832),
            vector4(626.63739013672, 103.02857971191, 91.640991210938, 252.2834777832),
            vector4(624.61981201172, 99.30989074707, 91.590454101562, 243.77952575684),

        },
    },
    ["G"] = {
        ["type"] = "car",
        ["pos"] = vector4(598.95825195312, 98.215393066406, 92.483520507812, 68.031494140625),
        ["distance"] = 100,
        ["spaces"] = {
            vector4(598.95825195312, 98.215393066406, 92.483520507812, 68.031494140625),
            vector4(600.31646728516, 102.02638244629, 92.483520507812, 68.031494140625),
            vector4(600.34283447266, 111.27033233643, 92.466674804688, 68.031494140625),
            vector4(602.13629150391, 114.8835144043, 92.466674804688, 65.196853637695),
            vector4(602.59777832031, 118.35164642334, 92.466674804688, 65.196853637695),
            vector4(604.28570556641, 122.72967529297, 92.466674804688, 68.031494140625),
            vector4(605.70989990234, 125.63076782227, 92.466674804688, 68.031494140625),
            vector4(606.97583007812, 130.0087890625, 92.466674804688, 68.031494140625),
            vector4(615.24395751953, 122.37362670898, 92.483520507812, 252.2834777832),
            vector4(613.47692871094, 119.06373596191, 92.517211914062, 246.61418151855),
            vector4(612.64617919922, 115.02857208252, 92.483520507812, 249.44882202148),
            vector4(610.72088623047, 110.99340820312, 92.500366210938, 252.2834777832),
            vector4(609.91650390625, 107.43296813965, 92.432983398438, 249.44882202148),
            vector4(608.53186035156, 103.54286193848, 92.382446289062, 252.2834777832),
            vector4(616.54943847656, 101.0901184082, 92.18017578125, 65.196853637695),
            vector4(618.56701660156, 104.51868438721, 92.163330078125, 68.031494140625),
            vector4(618.64617919922, 108.0, 92.24755859375, 59.52755355835),
            vector4(620.74285888672, 111.59999847412, 92.230712890625, 70.866142272949),
            vector4(622.61535644531, 115.42417907715, 92.197021484375, 62.362197875977),
            vector4(623.68353271484, 119.63076782227, 92.2138671875, 70.866142272949),
            vector4(634.12750244141, 124.95824432373, 92.365600585938, 249.44882202148),
            vector4(633.12530517578, 122.16263580322, 92.197021484375, 249.44882202148),
            vector4(632.00439453125, 117.61318969727, 91.994873046875, 249.44882202148),
            vector4(630.58020019531, 114.29010772705, 91.77587890625, 246.61418151855),
            vector4(629.20880126953, 110.43955993652, 91.657836914062, 246.61418151855),
            vector4(627.56042480469, 106.44396209717, 91.674682617188, 252.2834777832),
            vector4(626.63739013672, 103.02857971191, 91.640991210938, 252.2834777832),
            vector4(624.61981201172, 99.30989074707, 91.590454101562, 243.77952575684),

        },
    },
    ["H"] = {
        ["type"] = "car",
        ["pos"] = vector4(-775.42419433594, -2025.82421875, 8.4366455078125, 36.850391387939),
        ["distance"] = 100,
        ["spaces"] = {
            vector4(-775.42419433594, -2025.82421875, 8.4366455078125, 36.850391387939),
            vector4(-772.49670410156, -2023.5032958984, 8.4366455078125, 36.850391387939),
            vector4(-769.87249755859, -2020.9055175781, 8.4366455078125, 39.685035705566),
            vector4(-767.60437011719, -2018.1889648438, 8.4366455078125, 48.188972473145),
            vector4(-764.92749023438, -2016.1845703125, 8.4534912109375, 42.519683837891),
            vector4(-763.06811523438, -2013.1384277344, 8.4534912109375, 45.354328155518),
            vector4(-760.72088623047, -2010.0, 8.4366455078125, 48.188972473145),
            vector4(-758.017578125, -2008.0219726562, 8.4534912109375, 48.188972473145),
            vector4(-755.85491943359, -2004.8835449219, 8.4534912109375, 51.023620605469),
            vector4(-753.73187255859, -2002.193359375, 8.4534912109375, 59.52755355835),
            vector4(-743.59118652344, -2006.3209228516, 8.4534912109375, 272.1259765625),
            vector4(-742.68133544922, -2009.6702880859, 8.4534912109375, 272.1259765625),
            vector4(-743.12963867188, -2013.0593261719, 8.4534912109375, 274.96063232422),
            vector4(-743.20880126953, -2016.1318359375, 8.4534912109375, 266.45669555664),
            vector4(-743.43298339844, -2019.6263427734, 8.4703369140625, 272.1259765625),
            vector4(-743.44616699219, -2023.0549316406, 8.4703369140625, 266.45669555664),
            vector4(-743.07690429688, -2026.5230712891, 8.4703369140625, 274.96063232422),
            vector4(-743.22198486328, -2030.1889648438, 8.4703369140625, 272.1259765625),
            vector4(-743.65716552734, -2033.3143310547, 8.4703369140625, 269.29135131836),
            vector4(-779.39343261719, -2040.2769775391, 8.4534912109375, 133.22833251953),
            vector4(-777.15167236328, -2042.6900634766, 8.4534912109375, 136.06298828125),
            vector4(-774.71209716797, -2044.8527832031, 8.4534912109375, 130.39370727539),
            vector4(-772.31207275391, -2047.0944824219, 8.4534912109375, 136.06298828125),
            vector4(-769.59558105469, -2049.5737304688, 8.4703369140625, 141.7322845459),
            vector4(-767.88134765625, -2052.4350585938, 8.4703369140625, 136.06298828125),
            vector4(-764.76922607422, -2054.4262695312, 8.4703369140625, 133.22833251953),
            vector4(-762.61975097656, -2056.6022949219, 8.4703369140625, 138.89762878418),
            vector4(-759.58679199219, -2059.3581542969, 8.4703369140625, 136.06298828125),
            vector4(-756.94946289062, -2061.2570800781, 8.4703369140625, 136.06298828125),   
        },
    },
    ["I"] = {
        ["type"] = "car",
        ["pos"] = vector4(-671.44616699219, -2048.5451660156, 8.4366455078125, 331.65353393555),
        ["distance"] = 100,
        ["spaces"] = {
            vector4(-671.44616699219, -2048.5451660156, 8.4366455078125, 331.65353393555),
            vector4(-667.67474365234, -2050.0615234375, 8.4366455078125, 337.32284545898),
            vector4(-664.0615234375, -2050.9714355469, 8.4366455078125, 348.6614074707),
            vector4(-660.85711669922, -2052.3559570312, 8.4366455078125, 354.33071899414),
            vector4(-656.88793945312, -2052.3032226562, 8.4366455078125, 2.8346455097198),
            vector4(-687.85052490234, -2044.9055175781, 8.4366455078125, 22.677164077759),
            vector4(-691.23956298828, -2045.8154296875, 8.4366455078125, 22.677164077759),
            vector4(-694.76043701172, -2046.9890136719, 8.4366455078125, 19.842517852783),
            vector4(-697.63519287109, -2048.3208007812, 8.4366455078125, 25.511810302734),
            vector4(-701.01098632812, -2049.2702636719, 8.4366455078125, 22.677164077759),
            vector4(-685.78021240234, -2059.6879882812, 8.4366455078125, 187.08662414551),
            vector4(-689.59118652344, -2059.9516601562, 8.4366455078125, 184.25196838379),
            vector4(-692.84832763672, -2060.0703125, 8.4366455078125, 184.25196838379),
            vector4(-696.59338378906, -2060.8220214844, 8.4366455078125, 187.08662414551),
            vector4(-700.02197265625, -2061.3625488281, 8.4366455078125, 189.92126464844),
            vector4(-702.84393310547, -2060.9406738281, 8.4366455078125, 189.92126464844),
            vector4(-706.69451904297, -2061.5078125, 8.4366455078125, 187.08662414551),    
        },
    },
    ["J"] = {
        ["type"] = "car",
        ["pos"] = vector4(-604.087890625, -2221.1867675781, 5.5552978515625, 2.8346455097198),
        ["distance"] = 100,
        ["spaces"] = {
            vector4(-604.087890625, -2221.1867675781, 5.5552978515625, 2.8346455097198),
            vector4(-609.42858886719, -2216.4526367188, 5.5721435546875, 5.6692910194397),
            vector4(-614.13623046875, -2212.1538085938, 5.5721435546875, 5.6692910194397),
            vector4(-618.89672851562, -2208.4482421875, 5.5721435546875, 5.6692910194397),
            vector4(-623.9736328125, -2204.2416992188, 5.5721435546875, 5.6692910194397),
            vector4(-628.70770263672, -2200.087890625, 5.5721435546875, 5.6692910194397),
            vector4(-633.46813964844, -2195.525390625, 5.5552978515625, 5.6692910194397),
            vector4(-638.32086181641, -2192.6638183594, 5.5552978515625, 5.6692910194397),
            vector4(-643.35821533203, -2187.2438964844, 5.5552978515625, 8.5039367675781),
            vector4(-647.67034912109, -2183.8813476562, 5.5552978515625, 5.6692910194397),
            vector4(-600.10546875, -2214.0131835938, 5.5552978515625, 187.08662414551),
            vector4(-605.23516845703, -2210.3735351562, 5.5552978515625, 189.92126464844),
            vector4(-609.71868896484, -2206.7341308594, 5.5552978515625, 184.25196838379),
            vector4(-614.45275878906, -2202.6989746094, 5.5552978515625, 184.25196838379),
            vector4(-619.34503173828, -2198.5187988281, 5.5721435546875, 184.25196838379),
            vector4(-624.71209716797, -2194.6945800781, 5.5721435546875, 187.08662414551),
            vector4(-629.24835205078, -2189.9340820312, 5.5552978515625, 184.25196838379),
            vector4(-634.0087890625, -2186.0439453125, 5.5552978515625, 181.41734313965),
            vector4(-639.32305908203, -2182.0747070312, 5.5552978515625, 184.25196838379),
            vector4(-643.47692871094, -2178.4614257812, 5.5552978515625, 187.08662414551),
            vector4(-648.98901367188, -2174.3999023438, 5.5552978515625, 178.58265686035),   
        },
    },
    ["T"] = {
        ["type"] = "car",
        ["pos"] = vector4(215.6296, -804.4986, 30.807632, 250.00000),
        ["distance"] = 100,
        ["spaces"] = {
            vector4(215.6296, -804.4986, 30.807632, 250.00000),  --1
            vector4(216.03358, -801.789, 30.800989, 250.00000),   -- 2
            vector4(217.24771, -799.2966, 30.781978, 250.00000), -- 3
            vector4(218.63047, -796.9683, 30.761312, 250.00000),  -- 4
            vector4(219.17404, -794.3041, 30.757955, 250.00000), --  5
            vector4(220.25538, -791.8591, 30.754323, 250.00000), --  6	
            vector4(221.4403, -789.4078, 30.757665, 250.00000), -- 7
            vector4(221.90049, -786.7009, 30.770549, 250.00000), -- 8
            vector4(223.04931, -784.1538, 30.763332, 250.00000), -- 9
            vector4(224.02821, -781.9258, 30.757287, 250.00000),-- 10
            vector4(224.45162, -778.9962, 30.762331, 250.00000), -- 11
            vector4(226.06567, -776.8444, 30.76485, 250.00000), -- 12
            vector4(226.82637, -774.1802, 30.777383, 250.00000), --13	
            vector4(227.50157, -771.5383, 30.782732, 250.00000), --14
            vector4(228.73504, -769.0703, 30.784828, 250.00000), --15
            vector4(205.9895, -800.8159, 31.009126, 68.999900), --16
            vector4(207.15728, -798.5713, 30.988506, 68.999900), --17
            vector4(208.02124, -796.0347, 30.969678, 68.999900), -- 18
            vector4(208.79159, -793.6126, 30.952547, 68.999900), --19
            vector4(209.83403, -791.0797, 30.929296, 68.999900), -- 20
            vector4(210.85385, -788.5641, 30.909946, 68.999900), --21
            vector4(211.59974, -786.076, 30.902608, 68.999900), -- 22
            vector4(212.7763, -783.5397, 30.882844, 68.999900), -- 23
            vector4(213.43438, -781.0673, 30.878492, 68.999900), -- 24
            vector4(214.09819, -778.4141, 30.874986, 68.999900), -- 25
            vector4(215.32409, -775.9618, 30.85478, 68.999900), -- 26
            vector4(215.99621, -773.5031, 30.850143, 68.999900), -- 27
            vector4(217.13641, -770.9417, 30.840738, 68.999900), -- 28
            vector4(218.11691, -768.3543, 30.835426, 68.999900), -- 29
            vector4(219.24171, -765.9536, 30.825599, 68.999900), -- 30
            vector4(234.05575, -771.2709, 30.757495, 68.999900), -- 40
            vector4(233.09597, -773.8001, 30.740203, 68.999900), -- 41
            vector4(231.84977, -776.3218, 30.724906, 68.999900), -- 42
            vector4(230.88719, -778.8485, 30.714872, 68.999900), -- 43
            vector4(230.38937, -781.4854, 30.700595, 68.999900), -- 44
            vector4(229.48437, -783.882, 30.703075, 68.999900), -- 45
            vector4(228.40995, -786.4511, 30.698017, 68.999900), -- 46
            vector4(228.40995, -786.4511, 30.698022, 68.999900), -- 47
            vector4(227.25041, -789.0064, 30.690061, 68.999900), -- 48
            vector4(226.29928, -791.3417, 30.681394, 68.999900), -- 49
            vector4(225.4654, -793.6822, 30.674673, 68.999900), -- 50
            vector4(225.20513, -796.7322, 30.658555, 68.999900), -- 51
            vector4(224.11111, -799.3984, 30.655904, 68.999900), -- 52
            vector4(223.16815, -801.7918, 30.65957, 68.999900), -- 53
            vector4(222.3124, -804.3611, 30.672058, 68.999900), -- 54
            vector4(221.30195, -806.7282, 30.675989, 68.999900), -- 55
            vector4(220.23483, -809.2672, 30.668308, 68.999900), -- 56
            vector4(231.1949, -810.4027, 30.435489, 250.00000), -- 57
            vector4(232.15748, -807.8125, 30.443035, 250.00000), -- 58
            vector4(236.97204, -812.7479, 30.28193, 68.999900), -- 59
            vector4(237.81829, -810.2005, 30.298225, 68.999900), -- 60
            vector4(232.98567, -805.2693, 30.45206, 250.00000), -- 61
            vector4(233.7404, -802.6191, 30.469449, 250.00000), -- 62
            vector4(239.06643, -807.8239, 30.310306, 68.999900), -- 63
            vector4(239.92446, -805.2305, 30.332712, 68.999900), -- 64
            vector4(233.71083, -802.5267, 30.471017, 250.00000), -- 65
            vector4(234.73213, -800.195, 30.479499, 250.00000), -- 66
            vector4(240.86198, -802.6303, 30.353157, 68.999900), -- 67
            vector4(241.77938, -800.1331, 30.372516, 68.999900), -- 68
            vector4(235.94207, -797.6566, 30.487077, 250.00000), -- 69
            vector4(236.54986, -795.0914, 30.507301, 250.00000), -- 70
            vector4(242.40957, -797.5698, 30.400688, 68.999900), -- 71
            vector4(243.34773, -794.8881, 30.429225, 68.999900), -- 72
            vector4(237.8133, -792.5994, 30.51098, 250.00000), -- 73
            vector4(238.60809, -790.0156, 30.532728, 250.00000), -- 74
            vector4(244.16378, -792.5458, 30.453693, 68.999900), -- 75
            vector4(245.36785, -789.8095, 30.479816, 68.999900), -- 76
            vector4(240.00793, -787.6875, 30.552167, 250.00000), -- 77
            vector4(247.03785, -787.656, 30.493701, 68.999900), -- 78
            vector4(247.27648, -784.7648, 30.536193, 68.999900), -- 79
            vector4(241.48591, -782.4054, 30.599435, 250.00000), -- 80
            vector4(242.15531, -779.8251, 30.624132, 250.00000), -- 81
            vector4(248.03109, -782.3434, 30.568422, 68.999900), -- 82
            vector4(248.85334, -779.5983, 30.607915, 68.999900), -- 83
            vector4(242.91363, -777.1682, 30.657697, 250.00000), -- 84
            vector4(243.93101, -774.764, 30.690048, 250.00000), -- 85
            vector4(249.49578, -777.0222, 30.643993, 68.999900), -- 86
            vector4(250.29368, -774.2435, 30.686677, 68.999900), -- 87
            vector4(245.18977, -772.2796, 30.712118, 250.00000), -- 88
        },
    },
    ["J"] = {
        ["type"] = "car",
        ["pos"] = vector4(-604.087890625, -2221.1867675781, 5.5552978515625, 2.8346455097198),
        ["distance"] = 100,
        ["spaces"] = {
            vector4(-604.087890625, -2221.1867675781, 5.5552978515625, 2.8346455097198),
            vector4(-609.42858886719, -2216.4526367188, 5.5721435546875, 5.6692910194397),
            vector4(-614.13623046875, -2212.1538085938, 5.5721435546875, 5.6692910194397),
            vector4(-618.89672851562, -2208.4482421875, 5.5721435546875, 5.6692910194397),
            vector4(-623.9736328125, -2204.2416992188, 5.5721435546875, 5.6692910194397),
            vector4(-628.70770263672, -2200.087890625, 5.5721435546875, 5.6692910194397),
            vector4(-633.46813964844, -2195.525390625, 5.5552978515625, 5.6692910194397),
            vector4(-638.32086181641, -2192.6638183594, 5.5552978515625, 5.6692910194397),
            vector4(-643.35821533203, -2187.2438964844, 5.5552978515625, 8.5039367675781),
            vector4(-647.67034912109, -2183.8813476562, 5.5552978515625, 5.6692910194397),
            vector4(-600.10546875, -2214.0131835938, 5.5552978515625, 187.08662414551),
            vector4(-605.23516845703, -2210.3735351562, 5.5552978515625, 189.92126464844),
            vector4(-609.71868896484, -2206.7341308594, 5.5552978515625, 184.25196838379),
            vector4(-614.45275878906, -2202.6989746094, 5.5552978515625, 184.25196838379),
            vector4(-619.34503173828, -2198.5187988281, 5.5721435546875, 184.25196838379),
            vector4(-624.71209716797, -2194.6945800781, 5.5721435546875, 187.08662414551),
            vector4(-629.24835205078, -2189.9340820312, 5.5552978515625, 184.25196838379),
            vector4(-634.0087890625, -2186.0439453125, 5.5552978515625, 181.41734313965),
            vector4(-639.32305908203, -2182.0747070312, 5.5552978515625, 184.25196838379),
            vector4(-643.47692871094, -2178.4614257812, 5.5552978515625, 187.08662414551),
            vector4(-648.98901367188, -2174.3999023438, 5.5552978515625, 178.58265686035),
        },
    },
    ["K"] = {
        ["type"] = "car",
        ["pos"] = vector4(-152.41319274902, -2140.8395996094, 16.271850585938, 19.842517852783),
        ["distance"] = 100,
        ["spaces"] = {
            vector4(-152.41319274902, -2140.8395996094, 16.271850585938, 19.842517852783),
            vector4(-149.19560241699, -2139.8901367188, 16.271850585938, 14.173227310181),
            vector4(-146.05714416504, -2138.1625976562, 16.271850585938, 14.173227310181),
            vector4(-142.10110473633, -2137.8461914062, 16.271850585938, 19.842517852783),
            vector4(-139.56922912598, -2135.736328125, 16.271850585938, 17.007873535156),
            vector4(-136.08790588379, -2134.4438476562, 16.271850585938, 19.842517852783),
            vector4(-132.98901367188, -2133.3889160156, 16.271850585938, 17.007873535156),
            vector4(-129.4285736084, -2132.5053710938, 16.271850585938, 17.007873535156),
            vector4(-126.21098327637, -2131.2395019531, 16.271850585938, 14.173227310181),
            vector4(-122.94065856934, -2129.7890625, 16.271850585938, 19.842517852783),
            vector4(-119.70988464355, -2129.4592285156, 16.271850585938, 14.173227310181),
            vector4(-121.55604553223, -2122.7868652344, 16.271850585938, 201.25985717773),
            vector4(-125.02416992188, -2122.7473144531, 16.271850585938, 201.25985717773),
            vector4(-128.41317749023, -2124.2373046875, 16.271850585938, 201.25985717773),
            vector4(-131.60440063477, -2125.75390625, 16.271850585938, 195.5905456543),
            vector4(-135.1516418457, -2127.7319335938, 16.271850585938, 204.09449768066),
            vector4(-138.42198181152, -2127.1779785156, 16.271850585938, 201.25985717773),
            vector4(-141.13845825195, -2130.2241210938, 16.271850585938, 201.25985717773),
            vector4(-144.89669799805, -2130.3295898438, 16.271850585938, 198.42520141602),
            vector4(-147.49450683594, -2132.5583496094, 16.271850585938, 201.25985717773),
            vector4(-151.21318054199, -2133.8110351562, 16.271850585938, 198.42520141602),
            vector4(-154.81318664551, -2134.3779296875, 16.271850585938, 201.25985717773),
            vector4(-141.73187255859, -2153.3273925781, 16.271850585938, 204.09449768066),
            vector4(-138.3296661377, -2152.1538085938, 16.271850585938, 206.92913818359),
            vector4(-134.79560852051, -2150.1625976562, 16.271850585938, 204.09449768066),
            vector4(-131.07691955566, -2149.4899902344, 16.271850585938, 201.25985717773),
            vector4(-128.14944458008, -2147.1955566406, 16.271850585938, 201.25985717773),
            vector4(-124.21977233887, -2146.6945800781, 16.271850585938, 206.92913818359),
            vector4(-120.9098815918, -2146.4306640625, 16.271850585938, 204.09449768066),
            vector4(-117.38900756836, -2144.2153320312, 16.271850585938, 204.09449768066),
            vector4(-114.22416687012, -2143.0285644531, 16.271850585938, 204.09449768066),
             vector4(-110.24175262451, -2141.4328613281, 16.271850585938, 198.42520141602),
            vector4(-106.98461914062, -2140.2856445312, 16.271850585938, 198.42520141602),
            vector4(-119.01098632812, -2129.6176757812, 16.271850585938, 17.007873535156),
           vector4(-116.00439453125, -2128.3251953125, 16.271850585938, 17.007873535156),
            vector4(-121.72747039795, -2122.7077636719, 16.271850585938, 201.25985717773),
            vector4(-118.6153793335, -2121.6000976562, 16.271850585938, 201.25985717773),
        },
    },
  
    ["Tuner"] = {
        ["type"] = "car",
        ["pos"] = vector4(163.209, -3001.633, 4.937, 70.783),
        ["distance"] = 100,
        ["spaces"] = {
            vector4(163.359, -3009.302, 6.310, 81.832),
            vector4(163.713, -3006.313, 6.319, 85.462),
            vector4(163.750, -3002.909, 6.318, 86.944),
            vector4(163.581, -2999.587, 6.304, 92.550),
            vector4(163.641, -2996.493, 6.314, 80.875),
            vector4(163.562, -2993.106, 6.299, 91.455),

        },
    },
}

--[[

    Exports

]]

exports("setGarage", function(pGarage, pVar, pValue, pEdit)
    if not garagesConfig[pGarage] then
        garagesConfig[pGarage] = {}
    end

    if pEdit then
        garagesConfig[pGarage][pVar] = pValue
    else
        garagesConfig[pGarage] = pVar
    end

    TriggerClientEvent("np-vehicles:setGarage", -1, pGarage, pVar, pValue, pEdit)
end)

exports("getGarage", function(pGarage, pVar)
    return garagesConfig[pGarage][pVar]
end)

--[[

    RPCs

]]

RPC.register("np-vehicles:requestGarages", function(src)
    return garagesConfig
end)

RPC.register("np-vehicles:getGarage", function(src, garage)
    local cid = exports["np-base"]:getChar(src, "id")
    if not cid then return {} end

    local type = garagesConfig[garage]["type"]

    local vehicles = MySQL.query.await([[
        SELECT v2.id, v2.plate, v2.model, v3.body_damage, v3.engine_damage, v3.fuel
        FROM vehicles_garage v1
        INNER JOIN vehicles v2 ON v2.id = v1.vid AND v2.cid = ? AND v2.type = ?
        INNER JOIN vehicles_metadata v3 ON v3.vid = v1.vid
        WHERE garage = ? AND state = "In"
    ]],
    { cid, type, garage })

    return vehicles
end)

RPC.register("np-vehicles:canStoreVehicle", function(src, garage, vid)
    local typeGarage = garagesConfig[garage]["type"]

    local typeVehicle = MySQL.scalar.await([[
        SELECT type
        FROM vehicles
        WHERE id = ?
    ]],
    { vid })

    if not typeVehicle then
        TriggerClientEvent("DoLongHudText", src, "Error?", 2)
        return false
    end

    if typeVehicle ~= typeGarage then
        TriggerClientEvent("DoLongHudText", src, "You cant store this vehicle here", 2)
        return false
    end

    return true
end)

--[[

    Threads

]]

Citizen.CreateThread(function()
    MySQL.update([[
        UPDATE vehicles_garage
        SET state = "In"
        WHERE state = "Out"
    ]])
end)